<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 900" width="1000" height="900">
  <defs>
    <!-- Enhanced Gradients -->
    <linearGradient id="ammoniaBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fef2f2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fee2e2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ammoniaAccent" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="nitriteBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fffbeb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fef3c7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nitriteAccent" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="nitrateBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0fdf4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dcfce7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nitrateAccent" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow markers -->
    <marker id="arrowRed" markerWidth="12" markerHeight="12" refX="11" refY="6" orient="auto">
      <path d="M 2 2 L 10 6 L 2 10 z" fill="#dc2626" />
    </marker>
    <marker id="arrowOrange" markerWidth="12" markerHeight="12" refX="11" refY="6" orient="auto">
      <path d="M 2 2 L 10 6 L 2 10 z" fill="#d97706" />
    </marker>
    <marker id="arrowGreen" markerWidth="12" markerHeight="12" refX="11" refY="6" orient="auto">
      <path d="M 2 2 L 10 6 L 2 10 z" fill="#059669" />
    </marker>
    
    <!-- Drop shadow -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="0" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.15"/>
      </feComponentTransfer>
      <feMerge> 
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/> 
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1000" height="900" fill="#fafafa" />

  <!-- Title Section -->
  <text x="500" y="50" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="36" font-weight="900" fill="#0f172a">
    The Nitrogen Cycle
  </text>
  <text x="500" y="80" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="16" font-weight="500" fill="#64748b">
    How beneficial bacteria establish biological filtration in your aquarium
  </text>

  <!-- Central Circle Background -->
  <circle cx="500" cy="480" r="320" fill="#ffffff" stroke="#e2e8f0" stroke-width="3" filter="url(#shadow)" />

  <!-- STAGE 1: AMMONIA (Top) -->
  <g id="ammonia-stage">
    <!-- Stage Circle -->
    <circle cx="500" cy="240" r="110" fill="url(#ammoniaBg)" stroke="url(#ammoniaAccent)" stroke-width="5" filter="url(#shadow)" />
    
    <!-- Danger Icon -->
    <circle cx="500" cy="215" r="28" fill="url(#ammoniaAccent)" />
    <text x="500" y="228" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="32" font-weight="900" fill="#ffffff">
      !
    </text>
    
    <!-- Chemical Formula -->
    <text x="500" y="265" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="28" font-weight="900" fill="#dc2626">
      NH₃/NH₄⁺
    </text>
    <text x="500" y="288" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="18" font-weight="700" fill="#dc2626">
      Ammonia
    </text>
    
    <!-- Toxicity Badge -->
    <rect x="440" y="300" width="120" height="28" rx="14" fill="#dc2626" />
    <text x="500" y="319" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="12" font-weight="900" fill="#ffffff" letter-spacing="0.5">
      HIGHLY TOXIC
    </text>
    
    <!-- Source Icons -->
    <g transform="translate(450, 150)">
      <!-- Fish waste -->
      <ellipse cx="0" cy="0" rx="15" ry="10" fill="#ef4444" opacity="0.3" />
      <text x="0" y="-20" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="600" fill="#64748b">Waste</text>
    </g>
    <g transform="translate(550, 150)">
      <!-- Food -->
      <circle cx="0" cy="0" r="8" fill="#f59e0b" opacity="0.4" />
      <circle cx="-6" cy="-3" r="5" fill="#f59e0b" opacity="0.4" />
      <text x="0" y="-20" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="600" fill="#64748b">Uneaten Food</text>
    </g>
  </g>

  <!-- Arrow 1: Ammonia to Nitrite -->
  <g id="arrow1">
    <path d="M 580 290 Q 680 380 650 480" fill="none" stroke="url(#ammoniaAccent)" stroke-width="8" marker-end="url(#arrowRed)" opacity="0.9" />
    
    <!-- Bacteria Label -->
    <rect x="630" y="350" width="140" height="70" rx="12" fill="#ffffff" stroke="#e5e7eb" stroke-width="2" filter="url(#shadow)" />
    <text x="700" y="372" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="700" fill="#0f172a">
      Nitrosomonas
    </text>
    <text x="700" y="387" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="600" fill="#64748b">
      (AOB bacteria)
    </text>
    <text x="700" y="405" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="9" font-weight="500" fill="#94a3b8">
      Oxidizes ammonia
    </text>
    <!-- Bacteria icon -->
    <circle cx="665" cy="367" r="3" fill="#ef4444" />
    <circle cx="670" cy="365" r="2.5" fill="#ef4444" />
    <circle cx="668" cy="370" r="2" fill="#ef4444" />
  </g>

  <!-- STAGE 2: NITRITE (Right) -->
  <g id="nitrite-stage">
    <!-- Stage Circle -->
    <circle cx="720" cy="550" r="110" fill="url(#nitriteBg)" stroke="url(#nitriteAccent)" stroke-width="5" filter="url(#shadow)" />
    
    <!-- Warning Icon -->
    <path d="M 720 515 L 705 545 L 735 545 Z" fill="url(#nitriteAccent)" stroke="#d97706" stroke-width="2" />
    <text x="720" y="542" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="20" font-weight="900" fill="#ffffff">
      !
    </text>
    
    <!-- Chemical Formula -->
    <text x="720" y="575" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="28" font-weight="900" fill="#d97706">
      NO₂⁻
    </text>
    <text x="720" y="598" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="18" font-weight="700" fill="#d97706">
      Nitrite
    </text>
    
    <!-- Toxicity Badge -->
    <rect x="670" y="610" width="100" height="28" rx="14" fill="#f59e0b" />
    <text x="720" y="629" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="12" font-weight="900" fill="#ffffff" letter-spacing="0.5">
      TOXIC
    </text>
  </g>

  <!-- Arrow 2: Nitrite to Nitrate -->
  <g id="arrow2">
    <path d="M 650 610 Q 550 680 430 650" fill="none" stroke="url(#nitriteAccent)" stroke-width="8" marker-end="url(#arrowOrange)" opacity="0.9" />
    
    <!-- Bacteria Label -->
    <rect x="470" y="665" width="140" height="70" rx="12" fill="#ffffff" stroke="#e5e7eb" stroke-width="2" filter="url(#shadow)" />
    <text x="540" y="687" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="700" fill="#0f172a">
      Nitrobacter
    </text>
    <text x="540" y="702" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="600" fill="#64748b">
      (NOB bacteria)
    </text>
    <text x="540" y="720" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="9" font-weight="500" fill="#94a3b8">
      Oxidizes nitrite
    </text>
    <!-- Bacteria icon -->
    <circle cx="505" cy="682" r="3" fill="#f59e0b" />
    <circle cx="510" cy="680" r="2.5" fill="#f59e0b" />
    <circle cx="508" cy="685" r="2" fill="#f59e0b" />
  </g>

  <!-- STAGE 3: NITRATE (Left) -->
  <g id="nitrate-stage">
    <!-- Stage Circle -->
    <circle cx="280" cy="550" r="110" fill="url(#nitrateBg)" stroke="url(#nitrateAccent)" stroke-width="5" filter="url(#shadow)" />
    
    <!-- Check Icon -->
    <circle cx="280" cy="525" r="28" fill="url(#nitrateAccent)" />
    <path d="M 268 525 L 276 533 L 292 517" fill="none" stroke="#ffffff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />
    
    <!-- Chemical Formula -->
    <text x="280" y="575" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="28" font-weight="900" fill="#059669">
      NO₃⁻
    </text>
    <text x="280" y="598" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="18" font-weight="700" fill="#059669">
      Nitrate
    </text>
    
    <!-- Safety Badge -->
    <rect x="215" y="610" width="130" height="28" rx="14" fill="#10b981" />
    <text x="280" y="629" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="12" font-weight="900" fill="#ffffff" letter-spacing="0.5">
      LESS HARMFUL
    </text>
  </g>

  <!-- Arrow 3: Nitrate Removal Path -->
  <g id="arrow3">
    <path d="M 330 480 Q 380 360 450 280" fill="none" stroke="url(#nitrateAccent)" stroke-width="8" marker-end="url(#arrowGreen)" opacity="0.9" stroke-dasharray="10,5" />
    
    <!-- Removal Methods -->
    <rect x="310" y="350" width="120" height="90" rx="12" fill="#ffffff" stroke="#e5e7eb" stroke-width="2" filter="url(#shadow)" />
    <text x="370" y="372" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="700" fill="#0f172a">
      Removal
    </text>
    <g transform="translate(340, 385)">
      <!-- Plant icon -->
      <path d="M 0 15 Q -3 10 -3 5 Q -3 0 0 0 M 0 15 Q 3 10 3 5 Q 3 0 0 0" stroke="#10b981" stroke-width="2" fill="none" />
      <circle cx="-3" cy="5" r="3" fill="#10b981" opacity="0.3" />
      <circle cx="3" cy="5" r="3" fill="#10b981" opacity="0.3" />
      <text x="30" y="10" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="9" font-weight="600" fill="#64748b">Plants</text>
    </g>
    <g transform="translate(340, 410)">
      <!-- Water change icon -->
      <path d="M 0 0 Q 3 5 0 10 Q -3 5 0 0" fill="#3b82f6" opacity="0.3" />
      <text x="15" y="8" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="9" font-weight="600" fill="#64748b">Water Changes</text>
    </g>
  </g>

  <!-- Central Info Box -->
  <g id="center-info">
    <rect x="400" y="440" width="200" height="80" rx="16" fill="#ffffff" stroke="#e5e7eb" stroke-width="3" filter="url(#shadow)" />
    <text x="500" y="465" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="14" font-weight="800" fill="#0f172a">
      Biological Filter
    </text>
    <text x="500" y="485" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="600" fill="#64748b">
      Beneficial bacteria colonize
    </text>
    <text x="500" y="500" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="600" fill="#64748b">
      filter media, substrate,
    </text>
    <text x="500" y="515" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="600" fill="#64748b">
      and decorations
    </text>
  </g>

  <!-- Timeline Info -->
  <g id="timeline">
    <rect x="100" y="820" width="800" height="60" rx="12" fill="#eff6ff" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)" />
    <circle cx="130" cy="850" r="16" fill="#3b82f6" />
    <text x="130" y="857" text-anchor="middle" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="18" font-weight="900" fill="#ffffff">
      i
    </text>
    <text x="160" y="843" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="13" font-weight="700" fill="#1e40af">
      Cycling Timeline:
    </text>
    <text x="160" y="862" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="12" font-weight="500" fill="#475569">
      This process takes 4-6 weeks to fully establish. Test water daily during cycling.
    </text>
  </g>

  <!-- Legend -->
  <g id="legend">
    <text x="120" y="130" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="12" font-weight="700" fill="#0f172a">
      Toxicity Levels:
    </text>
    
    <circle cx="130" cy="150" r="8" fill="#dc2626" />
    <text x="145" y="155" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="500" fill="#64748b">
      Highly Toxic (Deadly to fish)
    </text>
    
    <circle cx="130" cy="175" r="8" fill="#f59e0b" />
    <text x="145" y="180" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="500" fill="#64748b">
      Toxic (Harmful to fish)
    </text>
    
    <circle cx="130" cy="200" r="8" fill="#10b981" />
    <text x="145" y="205" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="11" font-weight="500" fill="#64748b">
      Safe at low levels (&lt;20 ppm)
    </text>
  </g>

  <!-- Key Points -->
  <g id="key-points">
    <text x="750" y="130" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="12" font-weight="700" fill="#0f172a">
      Keep in Mind:
    </text>
    
    <text x="750" y="150" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="500" fill="#64748b">
      • Never clean with soap or hot water
    </text>
    <text x="750" y="168" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="500" fill="#64748b">
      • Chlorine kills beneficial bacteria
    </text>
    <text x="750" y="186" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="500" fill="#64748b">
      • Don't replace all filter media at once
    </text>
    <text x="750" y="204" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif" font-size="10" font-weight="500" fill="#64748b">
      • Antibiotics can harm the cycle
    </text>
  </g>
</svg>