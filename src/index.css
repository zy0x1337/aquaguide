@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   1. VARIABLES & THEME CONFIGURATION
   ========================================= */
:root {
  /* üåü SYSTEM FARBEN (Light: Warmes Stone Theme) */
  --bg-body: #fafaf9;      /* Stone-50 */
  --bg-card: #ffffff;      /* Reinwei√ü */
  --text-main: #1c1917;    /* Stone-900 */
  --text-muted: #78716c;   /* Stone-500 */
  --border-color: #e5e5e5; /* Stone-200 */
  
  /* üåü NAVBAR SPEZIFISCH (Light) */
  --nav-bg: #ffffff;
  --nav-border: #e5e5e5;
  --nav-pill-bg: #f5f5f4;  /* Stone-100 */
  --active-pill-bg: #ffffff;
  --active-pill-text: #4f46e5; /* Indigo-600 */
  --active-pill-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
}

.dark {
  /* üåü SYSTEM FARBEN (Dark: Cozy Deep Coffee) */
  --bg-body: #0c0a09;      /* Stone-950 */
  --bg-card: #1c1917;      /* Stone-900 */
  --text-main: #f5f5f4;    /* Stone-100 */
  --text-muted: #a8a29e;   /* Stone-400 */
  --border-color: #292524; /* Stone-800 */
  
  /* üåü NAVBAR SPEZIFISCH (Dark) */
  --nav-bg: #1c1917;       /* Stone-900 */
  --nav-border: #292524;
  --nav-pill-bg: #292524;  /* Stone-800 */
  --active-pill-bg: #57534e; /* Stone-600 */
  --active-pill-text: #ffffff;
  --active-pill-shadow: none;
}

/* =========================================
   2. GLOBAL RESET & PREMIUM UI
   ========================================= */
body {
  background-color: var(--bg-body);
  color: var(--text-main);
  transition: background-color 0.3s, color 0.3s;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Selection Style (Markierter Text) */
::selection { background-color: #6366f1; color: #ffffff; }
.dark ::selection { background-color: #818cf8; color: #ffffff; }

/* Custom Scrollbar */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { 
  background: #d6d3d1; 
  border-radius: 5px; 
  border: 2px solid #fafaf9; 
}
.dark ::-webkit-scrollbar-thumb { 
  background: #44403c; 
  border-color: #0c0a09; 
}
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* =========================================
   3. UTILITIES & COMPONENT FIXES
   ========================================= */

/* Navbar Utility Klassen (f√ºr Layout.tsx) */
.bg-theme-nav { background-color: var(--nav-bg); }
.border-theme { border-color: var(--nav-border); }
.text-theme-main { color: var(--text-main); }
.text-theme-muted { color: var(--text-muted); }

.nav-item-active {
  background-color: var(--active-pill-bg);
  color: var(--active-pill-text);
  box-shadow: var(--active-pill-shadow);
  font-weight: 700;
}
.nav-item-inactive { color: var(--text-muted); }
.nav-item-inactive:hover {
  color: var(--text-main);
  background-color: rgba(128, 128, 128, 0.1);
}

/* =========================================
   4. INPUTS & SEARCHBAR FIXES (CRITICAL)
   ========================================= */

/* Entfernt Webkit-Standard-Styling (das "h√§ssliche Rechteck") */
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  display: none;
}

/* Globaler Input Reset f√ºr Dark Mode */
.dark input, 
.dark select,
.dark textarea {
  color: #f5f5f4 !important;
  border-color: #44403c;
  /* Standard Hintergrund f√ºr normale Inputs */
  background-color: #292524; 
}

/* üî• WICHTIG: Fix f√ºr Suchleisten mit transparentem Hintergrund */
/* Wenn die Klasse 'bg-transparent' im HTML steht, darf CSS das nicht √ºberschreiben! */
.dark input.bg-transparent,
.dark input[class*="bg-transparent"] {
  background-color: transparent !important;
  border-color: transparent !important;
}

.dark input::placeholder { color: #78716c !important; }

/* Autofill Fix (verhindert gelben/wei√üen Hintergrund bei Chrome) */
.dark input:-webkit-autofill,
.dark input:-webkit-autofill:hover, 
.dark input:-webkit-autofill:focus, 
.dark input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px #292524 inset !important;
  -webkit-text-fill-color: #f5f5f4 !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* =========================================
   5. COMPATIBILITY MAPPINGS (Slate -> Stone)
   ========================================= */
/* Light Mode Mappings */
.bg-slate-50 { background-color: #fafaf9 !important; }
.bg-white { background-color: #ffffff !important; }
.text-slate-900 { color: #1c1917 !important; }
.text-slate-700 { color: #44403c !important; }
.text-slate-600 { color: #57534e !important; }
.text-slate-500 { color: #78716c !important; }
.border-slate-200 { border-color: #e7e5e4 !important; }

/* Dark Mode Mappings */
.dark .bg-slate-50, 
.dark .bg-[fafaf9],
.dark .bg-surface-body { background-color: #0c0a09 !important; }

.dark .bg-white,
.dark .bg-surface-card {
  background-color: #1c1917 !important;
  border-color: #292524 !important;
}

.dark .text-slate-900, .dark .text-stone-900 { color: #f5f5f4 !important; }
.dark .text-slate-800, .dark .text-stone-800 { color: #e7e5e4 !important; }
.dark .text-slate-700, .dark .text-slate-600 { color: #a8a29e !important; }
.dark .text-slate-500, .dark .text-slate-400 { color: #78716c !important; }

.dark .border-slate-100,
.dark .border-slate-200,
.dark .border-stone-200 { border-color: #292524 !important; }

/* =========================================
   6. DETAIL PAGE BADGES (Glassmorphism)
   ========================================= */
/* Amber */
.dark .bg-amber-50 { background-color: rgba(120, 53, 15, 0.15) !important; border-color: rgba(180, 83, 9, 0.2) !important; }
.dark .text-amber-900 { color: #fcd34d !important; }
/* Rose */
.dark .bg-rose-50 { background-color: rgba(136, 19, 55, 0.15) !important; border-color: rgba(159, 18, 57, 0.2) !important; }
.dark .text-rose-900 { color: #fda4af !important; }
/* Emerald */
.dark .bg-emerald-50 { background-color: rgba(6, 78, 59, 0.15) !important; border-color: rgba(6, 95, 70, 0.2) !important; }
.dark .text-emerald-800, .dark .text-emerald-700 { color: #6ee7b7 !important; }
/* Indigo */
.dark .bg-indigo-50 { background-color: rgba(49, 46, 129, 0.15) !important; border-color: rgba(67, 56, 202, 0.2) !important; }
.dark .text-indigo-700 { color: #a5b4fc !important; }
/* Blue */
.dark .bg-blue-50 { background-color: #0c0a09 !important; border-color: #1e293b !important; }

/* Icons */
.dark .text-indigo-500 { color: #818cf8 !important; }
.dark .text-emerald-500 { color: #34d399 !important; }
.dark .text-rose-500 { color: #fb7185 !important; }
.dark .text-amber-500 { color: #fbbf24 !important; }

/* 6b. CHIP COLORS FOR DARK MODE (SpeciesCard) */
/* Entspricht deinen Light-Mode-Farben, nur dunkler/kontrastreich f√ºr Dark Mode */

.dark .bg-emerald-100 {
  background-color: rgba(6, 95, 70, 0.25) !important;  /* Emerald-700-ish, transparent */
  border-color: rgba(16, 185, 129, 0.4) !important;
}
.dark .text-emerald-700 { color: #6ee7b7 !important; }

.dark .bg-amber-100 {
  background-color: rgba(180, 83, 9, 0.25) !important;
  border-color: rgba(245, 158, 11, 0.4) !important;
}
.dark .text-amber-700 { color: #facc15 !important; }

.dark .bg-indigo-100 {
  background-color: rgba(55, 48, 163, 0.25) !important;
  border-color: rgba(79, 70, 229, 0.4) !important;
}
.dark .text-indigo-700 { color: #a5b4fc !important; }

.dark .bg-rose-100 {
  background-color: rgba(159, 18, 57, 0.25) !important;
  border-color: rgba(244, 63, 94, 0.4) !important;
}
.dark .text-rose-700 { color: #fda4af !important; }

.dark .bg-cyan-100 {
  background-color: rgba(8, 47, 73, 0.25) !important;
  border-color: rgba(34, 211, 238, 0.4) !important;
}
.dark .text-cyan-700 { color: #67e8f9 !important; }

.dark .bg-slate-100 {
  background-color: rgba(15, 23, 42, 0.35) !important;
  border-color: rgba(148, 163, 184, 0.4) !important;
}
.dark .text-slate-700 { color: #e5e7eb !important; }

/* =========================================
   7. TRANSITIONS
   ========================================= */
body, 
div:not(.no-transition), 
span, p, h1, h2, h3, h4, h5, h6, 
input, button, nav, header, footer,
a, svg, path {
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
  transition-duration: 300ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}
